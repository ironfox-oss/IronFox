# IronFox local.properties for Gecko...

# NOTE: Values surrounded in curly brackets ({}) are filled in by `build.sh`
## Currently, this includes:
## IRONFOX_AC = {IRONFOX_AC}
## IRONFOX_GECKO = {IRONFOX_GECKO}
## IRONFOX_GLEAN = {IRONFOX_GLEAN}

## Disable android:debuggable
debuggable=false

## Enable the auto-publication workflow for Android Components
autoPublish.android-components.dir={IRONFOX_AC}

## Enable the auto-publication workflow for GeckoView
### https://bugzilla.mozilla.org/show_bug.cgi?id=1533465
### Disabled for now due to quirks with bundles/AARs, but this is worth re-investigating for future reference
# dependencySubstitutions.geckoviewTopobjdir={IRONFOX_GECKO}/obj
# dependencySubstitutions.geckoviewTopsrcdir={IRONFOX_GECKO}

## Enable the auto-publication workflow for Glean
autoPublish.glean.dir={IRONFOX_GLEAN}

## Ensure we always use our mozconfig
mozilla-central.mozconfig={IRONFOX_GECKO}/mozconfig

## No-op Glean
### https://searchfox.org/firefox-main/rev/f90004e7/mobile/android/fenix/app/build.gradle#444
glean.custom.server.url=data;

## Set flag for "official" builds
### Ensures we're not enabling functionality/settings meant for debugging/development
### https://gitlab.torproject.org/tpo/applications/tor-browser/-/issues/27623
official=true

